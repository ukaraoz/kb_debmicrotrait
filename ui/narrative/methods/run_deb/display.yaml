#
# define display information
#
name: DEBmicroTrait - Run dynamic energy budget (DEB) model simulations

tooltip: |
    Run dynamic energy budget (DEB) model simulations for select traits in a TraitMatrix

screenshots: []

icon: icon.png

#
# define a set of similar apps that might be useful to the user
#
suggestions:
    apps:
        related:
            [app1, app2]
        next:
            [app3, app4]

#
# Configure the display and description of parameters
#
parameters :
    trait_refs :
       ui-name : |
           Trait Matrix
       short-hint : |
           Trait Matrix object for GenomeSet

    variance_interguild :
        ui-name : |
            Interguild variance to define guilds
        short-hint : |
            Interguild variance to define guild

    media_refs :
       ui-name : |
           Media or Chemical Abundance Matrix
       short-hint : |
           Media specifies the set of chemical compounds an organism can use for its growth. 

    media_concentration :
        ui-name : |
            Media Concentration
        short-hint : |
            DEBmicroTrait Simulation Type
        long-hint  : |
            simulation_type 
 
    simulation_type :
        ui-name : |
            Simulation Type
        short-hint : |
            DEBmicroTrait Simulation Type
        long-hint  : |
            simulation_type

    output_name :
          ui-name: |
              Output name
          short-hint: |
              Output name(s) prefix. Will be appended with '_html', etc.


description : |
    <div class="app-description">
        <h2>Background</h2>
        <p>
            Trait-based models show that ecophysiological traits of microorganisms are a promising way to connect microbial ecology to ecosystem scale processes. By moving beyond model representations of individual taxa, trait-based modeling strives for succinct descriptions of microbial guilds, thus avoiding complexity issues of taxon-centric modelling approaches. The challenge with this approach is to identify the key properties or traits of members of microbial communities, trait linkages or trade-offs, as well as trait regulation, and to use this information to parameterize or constrain the functional potential of the modeled communities.
        </p>
    
        <h2>DEBmicroTrait</h2>
        <p>
            Therefore, we have developed and tested a computational workflow to (1) infer ecologically relevant traits from microbial genomes, (2) systematically reduce the high-dimensionality of genome-level microbial trait-data by inferring functional guilds (sets of organisms performing the same ecological function irrespective of their phylogenetic origin), (3) quantify within-guild trait variance and capture trait linkages in trait-based models, and (4) explore trait-based simulations under different scenarios with varying levels of microbial community and environmental complexity.</a>.
        </p>
    
        <h3>Trait Granularity</h3>
    
        <h4>Resource Acquisition</h4>    
        <p> “Resource Acquisition:Substrate uptake:free amino acids transport”<p>
        <p> “Resource Acquisition:Substrate uptake:aromatic acid transport”<p>
        <p> “Resource Acquisition:Substrate uptake:carbohydrate transport”<p>
        <p> "Resource “Acquisition:Substrate uptake:carboxylate transport”<p>
        <p> “Resource Acquisition:Substrate uptake:lipid transport”<p>
        <p> “Resource Acquisition:Substrate uptake:nucleic acid component transport”<p>
        <p> “Resource Acquisition:Substrate degradation:complex carbohydrate depolymerization”<p>
    
        <h4>Growth Yield Difference (GYD)</h4>    
        <p>
            The GYD score evaluates the disparity in growth rate between the isolated members
                <img src="https://github.com/freiburgermsu/microbial_interactions/blob/main/ui/narrative/methods/run_microbial_interactions/GYD.png?sanitize=true">
            by normalizing the difference in the member's growth rates by the growth rate of the slower growing member. A relatively large disparity in the isolate growth rates may foreshadow a negative interaction when the members are combined, where one member rapidly begins dominating the environment and media consumption which leaves the other member potentially starved and possibly launching antibiotic warfare in desparation to survive.
        </p>
    
        <h4>Costless Interaction Potential (CIP)</h4>    
        <p>
            The CIP score quantifies the union of costless excreta <i>CE</i> (compounds that are excreted at maximal growth and therefore have no fitness cost associated with their excretion) in the isolated members
                <img src="https://github.com/freiburgermsu/microbial_interactions/blob/main/ui/narrative/methods/run_microbial_interactions/CIP.png?sanitize=true">
            which may contextualize syntrophic exchanges in their likelihood for exchange based on the fitness expense of their excretion. Our curation of the MIP score can be further contextualized with costless excreta via the intersection of exchanged compounds in the MIP score and the CIP for the same member pair. 
        </p>
    
        <h4>Biological Interaction Potential (BIT)</h4>    
        <p>
            The BIT score categorizes the member interaction into one of the classical descriptions -- competitive, amensalism, neutral, parasitism, commensalism, and mutualism -- based on relative growth of the members as isolates <i>G<sub>1</sub></i> versus in the community environment <i>G<sub>1,comm</sub></i>
                <img src="https://github.com/freiburgermsu/microbial_interactions/blob/main/ui/narrative/methods/run_microbial_interactions/BIT.png?sanitize=true">
            which provides a tangible biological description of the member interaction based on growth through the primary metabolism.
        </p>
    
        <h3>Curated scores</h3>
    
        <h4>MRO</h4>
        <p>
            The <i><b>M</b>etabolic <b>R</b>esource <b>O</b>verlap</i> (MRO) score is in the SMETANA suite and several earlier published scores, albeit with slight algorithmic variations. The MRO quantifies the fraction of a member's nutritional requirements, in a given media or the complete media by default, that overlap with the other member's nutritional requirements 
                <img src="https://github.com/freiburgermsu/microbial_interactions/blob/main/ui/narrative/methods/run_microbial_interactions/MRO.png?sanitize=true">
            and is importantly directional (by replacing the denominator member), which can capture directional dependencies of interactions (e.g. lawn versus spot). The minimal media <i>M</i> of each member is determined by minimizing the total exchange flux.
        </p>
    
        <h4>MIP</h4>
        <p>
            The <i><b>M</b>etabolic <b>I</b>nteraction <b>P</b>otential</i> (MIP) score is also in the SMETANA and earlier suites. This score quantifies syntrophic exchanges between the members. Our curation computes the MIP as the difference in exchanged compounds versus transported compounds in the compartmentalized community model
                <img src="https://github.com/freiburgermsu/microbial_interactions/blob/main/ui/narrative/methods/run_microbial_interactions/MIP.png?sanitize=true">
            where compounds that the members are transporting but the community is not exchanging with the media must be sourced from syntrophy. The MIP compounds that are costlessly excreted can also be quantified as a subscore of the MIP, and may better represent the compounds that are favorably exchanged in the community.
        </p>
    
        <h4>PC</h4>
        <p>
            The <i><b>P</b>otential <b>C</b>ooperation</i> (PC) score quantifies the net effect of co-growth relative to isolate growth, and in our curation is determined as the ratio of community growth to the sum of isolated member growths
                <img src="https://github.com/freiburgermsu/microbial_interactions/blob/main/ui/narrative/methods/run_microbial_interactions/PC.png?sanitize=true">
            and is therefore essentially a continuous quantitative representation of the discrete qualitative BIT score.
        </p>
    
        <h4>BSS</h4>
        <p>
            The <i><b>B</b>iosynthetic <b>S</b>upport <b>S</b>core</i> (BSS) score quantifies the capacity of a member to parasitize another member by topologically evaluating the proportion of a member's nutritional requirements that are in the other member's cytoplasmic metabolites
                <img src="https://github.com/freiburgermsu/microbial_interactions/blob/main/ui/narrative/methods/run_microbial_interactions/BSS.png?sanitize=true">
            This score therefore quantifies the capacity or incentive for negative interaction.
        </p>
    
        <!-- <h4>MSI</h4>
        <p>
            The <i><b>M</b>etabolic <b>S</b>upport <b>I</b>ndex</i> is the newest published score that we curated, and uniquely captures the ability of a member to activate the metabolism of another member based on a comparison of the topology of the metabolic networks of each model.
        </p> -->
    
        <h3>Calculate Metabolic Interaction Scores Application</h3>
        <p>
            CommScores is wrapped in the <i>Calculate Metabolic Interaction Scores</i> KBase Application, where users provide media and member FBA models and receive an output of two tabs: the first tab displays a table with all results, including metadata information and subscores; the second tab displays a heatmap table of just the only numerical scores and may therefore be advantageous for quantitative post-processing. The output tables can be downloaded as the raw HTML via the <b>index.html</b>.
        </p>
        <p>Future developments include:</p>
        <ol>
            <li>developing additional scores of other biological dimensions, such as phylogenetic similarity</li>
            <li>improving the format of model outputs to foster user interpretation</li>
            <li>expanding the Application UI to accept more parameters that are available in the API</li>
        </ol>
    </div>